{% extends "base.html" %}
{% block title %}Dashboard | HMV{% endblock %}

{% block content %}

  <!-- HERO / RESUMEN -->
  <section class="hmv-card" style="margin: 16px 0;">
    <div class="hmv-card-header">
      <div>
        <div class="hmv-title" style="font-size: 22px;">Dashboard</div>
        <div class="hmv-muted" style="margin-top: 4px;">
          Panel principal de mÃ³dulos â€¢ HMV Digital
        </div>
      </div>

      <div class="hmv-actions">
        <a class="hmv-btn-outline" href="{{ url_for('productos') }}">ğŸ“¦ Productos</a>
        <a class="hmv-btn-outline" href="{{ url_for('movimientos') }}">ğŸ” Movimientos</a>
        <a class="hmv-btn-primary" href="{{ url_for('farmacia_pendientes') }}">ğŸ§¾ Farmacia</a>
      </div>
    </div>

    <div class="hmv-card-body">
      <!-- KPIs -->
      <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px;">

        <div class="hmv-section" style="margin:0;">
          <div class="hmv-muted" style="font-size:12px;">Productos</div>
          <div style="font-weight:900; font-size:28px; margin-top:6px;">{{ productos_count }}</div>
          <div class="hmv-muted" style="font-size:12px; margin-top:6px;">Registrados en inventario</div>
        </div>

        <div class="hmv-section" style="margin:0;">
          <div class="hmv-muted" style="font-size:12px;">Movimientos</div>
          <div style="font-weight:900; font-size:28px; margin-top:6px;">{{ movimientos_count }}</div>
          <div class="hmv-muted" style="font-size:12px; margin-top:6px;">Entradas y salidas (piezas)</div>
        </div>

        <div class="hmv-section" style="margin:0;">
          <div class="hmv-muted" style="font-size:12px;">Pendientes Farmacia</div>
          <div style="font-weight:900; font-size:28px; margin-top:6px;">{{ pendientes_count }}</div>

          <div class="hmv-muted" style="font-size:12px; margin-top:6px;">
            Hoy:
            <span class="badge-hmv" style="margin-left:6px;">{{ pendientes_hoy }}</span>
          </div>

          {% if pendientes_hoy|int > 0 %}
            <div class="hmv-muted" style="font-size:12px; margin-top:8px;">
              Hay evidencia registrada hoy.
            </div>
          {% else %}
            <div class="hmv-muted" style="font-size:12px; margin-top:8px;">
              Hoy aÃºn no hay registro.
            </div>
          {% endif %}
        </div>

      </div>
    </div>
  </section>

  <!-- MÃ“DULOS -->
  <section class="hmv-card">
    <div class="hmv-card-header">
      <div>
        <div class="hmv-title" style="font-size: 18px;">MÃ³dulos</div>
        <div class="hmv-muted" style="margin-top: 4px;">
          Accesos rÃ¡pidos a las secciones principales
        </div>
      </div>
    </div>

    <div class="hmv-card-body">
      <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:12px;">

        <a href="{{ url_for('productos') }}" style="text-decoration:none; color:inherit;">
          <article class="hmv-section hmv-module-card" style="margin:0;">
            <div style="font-weight:900; font-size:16px;">ğŸ“¦ Productos</div>
            <div class="hmv-muted" style="font-size:13px; margin-top:6px;">
              Alta, ediciÃ³n, bÃºsqueda y control base.
            </div>
            <div class="hmv-muted" style="font-size:12px; margin-top:10px;">Abrir â†’</div>
          </article>
        </a>

        <a href="{{ url_for('movimientos') }}" style="text-decoration:none; color:inherit;">
          <article class="hmv-section hmv-module-card" style="margin:0;">
            <div style="font-weight:900; font-size:16px;">ğŸ” Entradas / Salidas</div>
            <div class="hmv-muted" style="font-size:13px; margin-top:6px;">
              Movimientos por producto (en piezas) con notas.
            </div>
            <div class="hmv-muted" style="font-size:12px; margin-top:10px;">Abrir â†’</div>
          </article>
        </a>

        <a href="{{ url_for('farmacia_pendientes') }}" style="text-decoration:none; color:inherit;">
          <article class="hmv-section hmv-module-card" style="margin:0;">
            <div style="font-weight:900; font-size:16px;">ğŸ§¾ Pendientes de Farmacia</div>
            <div class="hmv-muted" style="font-size:13px; margin-top:6px;">
              Registro diario por fotos (evidencia y trazabilidad).
            </div>
            <div class="hmv-muted" style="font-size:12px; margin-top:10px;">Abrir â†’</div>
          </article>
        </a>

        <article class="hmv-section" style="margin:0; border-style:dashed;">
          <div style="font-weight:900; font-size:16px;">ğŸ©º QuirÃ³fano (prÃ³ximamente)</div>
          <div class="hmv-muted" style="font-size:13px; margin-top:6px;">
            Material y medicamentos usados por cirugÃ­a.
          </div>
          <div class="hmv-muted" style="font-size:12px; margin-top:10px;">En construcciÃ³n</div>
        </article>

      </div>
    </div>
  </section>

{% endblock %}
